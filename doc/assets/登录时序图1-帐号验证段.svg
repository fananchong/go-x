<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="941" height="790" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title:登录时序图1-帐号验证段
Client->Login:请求登录
Login-->平台方:1. 请求验证帐号密码
平台方-->Login:返回验证结果
Login-->Client:返回结果1：帐号密码错误
Login->DB:2. 第1步OK，则请求获取帐号数据
DB-->Login:返回帐号数据
Login->DB:如果没有帐号数据，请求创建帐号数据
Note right of DB: 当且仅当没有帐号数据时，创建帐号
DB-->Login:返回创建帐号结果
Login-->Client:返回结果2：帐号创建失败
Note right of Login: 3. 第2步OK，则生成Token
Login->Cache:缓存Token，设置过期时间1小时
Cache-->Login:返回设置结果
Login-->Client:返回结果3：Token生成失败
Login-->Client:返回结果0：帐号验证成功]]></source><desc>登录时序图1-帐号验证段</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="189" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="17" y="31" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">登录时序图1-帐号验证段</tspan></text></g><g class="actor"><rect x="10" y="50" width="70" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="22" y="76" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">Client</tspan></text></g><g class="actor"><rect x="10" y="730" width="70" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="22" y="756" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">Client</tspan></text></g><line x1="45" x2="45" y1="90" y2="730" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="228" y="50" width="64" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="240" y="75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="238">Login</tspan></text></g><g class="actor"><rect x="228" y="730" width="64" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="240" y="755" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="238">Login</tspan></text></g><line x1="260" x2="260" y1="90" y2="730" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="461.5" y="50" width="71" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="473.5" y="76" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="471.5">平台方</tspan></text></g><g class="actor"><rect x="461.5" y="730" width="71" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="473.5" y="756" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="471.5">平台方</tspan></text></g><line x1="497" x2="497" y1="90" y2="730" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="552.5" y="50" width="39" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="564.5" y="76" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="562.5">DB</tspan></text></g><g class="actor"><rect x="552.5" y="730" width="39" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="564.5" y="756" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="562.5">DB</tspan></text></g><line x1="572" x2="572" y1="90" y2="730" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="848.5" y="50" width="63" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="860.5" y="76" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="858.5">Cache</tspan></text></g><g class="actor"><rect x="848.5" y="730" width="63" height="40" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="860.5" y="756" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="858.5">Cache</tspan></text></g><line x1="880" x2="880" y1="90" y2="730" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="121" y="121" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="119">请求登录</tspan></text><line x1="45" x2="260" y1="130" y2="130" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="302.5" y="161" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="301.5">1. 请求验证帐号密码</tspan></text><line x1="260" x2="497" y1="170" y2="170" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="331" y="201" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="329">返回验证结果</tspan></text><line x1="497" x2="260" y1="210" y2="210" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="61" y="241" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="59">返回结果1：帐号密码错误</tspan></text><line x1="260" x2="45" y1="250" y2="250" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="296" y="281" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="295">2. 第1步OK，则请求获取帐号数据</tspan></text><line x1="260" x2="572" y1="290" y2="290" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="368.5" y="321" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="366.5">返回帐号数据</tspan></text><line x1="572" x2="260" y1="330" y2="330" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="280.5" y="361" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="278.5">如果没有帐号数据，请求创建帐号数据</tspan></text><line x1="260" x2="572" y1="370" y2="370" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="592" y="390" width="268" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="598" y="411" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="597">当且仅当没有帐号数据时，创建帐号</tspan></text></g><g class="signal"><text x="352.5" y="451" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="350.5">返回创建帐号结果</tspan></text><line x1="572" x2="260" y1="460" y2="460" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="61" y="491" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="59">返回结果2：帐号创建失败</tspan></text><line x1="260" x2="45" y1="500" y2="500" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="280" y="520" width="197" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="286" y="541" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="285">3. 第2步OK，则生成Token</tspan></text></g><g class="signal"><text x="458.5" y="581" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="456.5">缓存Token，设置过期时间1小时</tspan></text><line x1="260" x2="880" y1="590" y2="590" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="522.5" y="621" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="520.5">返回设置结果</tspan></text><line x1="880" x2="260" y1="630" y2="630" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="57" y="661" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="55">返回结果3：Token生成失败</tspan></text><line x1="260" x2="45" y1="670" y2="670" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="61.5" y="701" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="59.5">返回结果0：帐号验证成功</tspan></text><line x1="260" x2="45" y1="710" y2="710" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>